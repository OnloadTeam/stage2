<!DOCTYPE html>
<html>
<head>
	<title>task18</title>
	<meta charset=utf-8>
	<style type="text/css">
	html,
	body{
		padding:0;
		margin: 0;
	}
	#numList{height: 60px;}
	#numList span{display: inline-block;height:40px;width: 40px;margin: 10px; background-color: red;color: #fff;line-height: 40px;text-align: center;font-weight: bold;font-size: 14px;}
	</style>
</head>
<body>
<input type="text" id="iText">
<input id="leftPush" type="submit" value="左侧入">
<input id="rightPush" type="submit" value="右入">
<input id="leftPop" type="submit" value="左侧出">
<input id="rightPop" type="submit" value="右侧出"><br />
<span id="errorInfo"></span>
<div id="numList">
	
</div>
<script type="text/javascript">
window.onload=function(){

	var iText    =  document.getElementById('iText'),
		leftPush =  document.getElementById('leftPush'),
		rightPush=  document.getElementById('rightPush'),
		rightPop =  document.getElementById('rightPop'),
		numList  =  document.getElementById('numList'),
		errorInfo=  document.getElementById('errorInfo');
	var flag =false;
	iText.onblur = function(){
		var msg        = /^(\s*[0-9]+\s*)$/;
		var inputValue = iText.value;	
		if(inputValue.match(msg) == null){
			flag                = true;
			errorInfo.innerHTML = "<font color='green'>请保证输入的全部是数字</font>"
		}else{
			flag                = false;
			errorInfo.innerHTML = '';
		}	
	}
	/*
	+* 入队列函数
	 */
	function pushQueue(dir){
		var msg  = /^[0-9]*$/;
		var inputValue = iText.value;
		var spanNode   = document.createElement('span');
		spanNode.textContent =inputValue;
		if(dir == 'left'){
			if(numList.firstElementChild == null){
				numList.appendChild(spanNode);
			}else{
				numList.insertBefore(spanNode,numList.firstElementChild);
			}
		}else if(dir == 'right'){
			numList.appendChild(spanNode);
		}
	}
	/*
	* 出队函数
	 */
	function popQueue(dir){
		if(dir == 'left'){
			numList.removeChild(numList.firstElementChild);
		}else if(dir == 'right'){
			numList.removeChild(numList.lastElementChild);
		}
	}
	leftPush.onclick=function(){
		if(!flag){
			pushQueue('left');	
		}
	}
	rightPush.onclick=function(){
		if(!flag){
			pushQueue('right');
		}
	}
	leftPop.onclick=function(){
		popQueue('left');
	};
	rightPop.onclick=function(){
		popQueue('right');
	};

}
</script>
</body>
</html>